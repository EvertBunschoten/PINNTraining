name: Regression and Unit Testing

on:
  push:
    branches:
      - 'main'
  workflow_call:
    inputs:
      runner:
        description: 'The github runner to use'
        default: 'ubuntu-latest'
        required: false 
        type: string
jobs:
  build:
    name: build package
    strategy: 
      fail-fast: false
    runs-on: ${{ inputs.runner || 'ubuntu-latest' }}
    steps:
      - name: Say hi
        run: echo "hi there"

      - name: Pre Cleanup
          uses: docker://ghcr.io/EvertBunschoten/PINNTraining/build-pinntraining:241806
          with:
            entrypoint: /bin/rm
            args: -rf install install_bin.tgz src ccache ${{ matrix.config_set }}